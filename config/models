User
    ident Text
    password Text Maybe
    UniqueUser ident
    deriving Typeable
Email
    email Text
    user UserId Maybe
    verkey Text Maybe
    UniqueEmail email

Calendar
    owner UserId
    name Text
    desc Text Maybe
    color Text
    public Bool
    publicedit Bool
    UniqueCalendar owner name
Target
    owner UserId
    name Text

-- different targets (objects)
Note
    content Textarea
    target TargetId
Todo
    done Bool
    repeat Repeat
    begin UTCTime
    end UTCTime Maybe
    alarm Alarm
    urgency Urgency
    target TargetId
Event
    repeat Repeat
    begin UTCTime
    end UTCTime Maybe
    place Text Maybe
    urgency Urgency
    alarm Alarm
    attendees [Text]
    comment Textarea Maybe
    target TargetId

-- many-to-many
CalTarget
    calendar CalendarId
    target TargetId
    UniqueCalTarget calendar target
